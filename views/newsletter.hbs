<div class="formContainer">
	<h2>Sign up for our newsletter to receive news and specials!</h2>
	<form class="form-horizontal" action="/process?form=newsletter" method="POST">
		<input type="hidden" name="_csrf" value="{{_csrf}}">
		<div class="form-group">
			<label for="fieldName" class="col-sm-2 control-label">Name</label>
			<div class="col-sm-4">
				<input type="text" class="form-control" id="fieldName" name="name">
			</div>
		</div>
		<div class="form-group">
			<label for="fieldEmail" class="col-sm-2 control-label">Email</label>
			<div class="col-sm-4">
				<input type="email" class="form-control" required id="fieldEmail" name="email">
			</div>
		</div>
		<div class="form-group">
			<div class="col-sm-offset-2 col-sm-4">
				<button type="submit" class="btn btn-default">Register</button>
			</div>
		</div>
	</form>
</div>
<script>
	jQuery(document).ready(function($) {
		$('.form-horizontal').on('submit', function(event) {
			event.preventDefault();
			var action = $(this)[0].action;
			$.ajax({
				url: action,
				type: 'POST',
				dataType: 'json',
				data: $(this).serialize()
			})
			.done(function(data) {
				console.log(data.success);
			})
			.fail(function(data) {
				$('.formContainer').html('There was a problem.');
			})
			.always(function() {
				console.log("complete");
			});
			
		});
	});
</script>